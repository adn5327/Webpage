<div class = "row" ng-controller = 'OverviewController'>
  <div class="small-12 medium-12 large-8 large-centered columns">
    <h1>Lab GDB</h1>
    <h2>DO NOT START LAB UNLESS TOLD TO DO SO! (WE MIGHT CHANGE THE SPECS)</h2>
    <ul class="toc">
      <h4>Contents</h4>
      <a href="#lab5/#objectives">Learning Objectives</a>
      <a href="#lab5/#setup">Setup</a>
      <a href="#lab5/#slides">GDB Slides</a>
      <a href="#lab5/#demo">Demo</a>
      <a href="#lab5/#exercise">Getting Your Hands Dirty</a>
    </ul>
    <!-- Learning Objectives -->
    <div class = "pad">
      <div id = "objectives" class="mdl-card mdl-shadow--2dp large-card">
        <div class="mdl-card__title" style = "background-color: #03a9f4">
          <h2 class="mdl-card__title-text" style = "color: white">Learning Objectives</h2>
        </div>
        <div class = "content">
          <ul>GDB</ul>
          <ul>Debugging</ul>
        </div>
      </div>
    </div>
    <!-- Setup -->
    <div class = "pad">
      <div id = "setup" class="mdl-card mdl-shadow--2dp large-card">
        <div class="mdl-card__title" style = "background-color: #03a9f4">
          <h2 class="mdl-card__title-text" style = "color: white">Setup</h2>
        </div>
        <div class = "content">
          <pre class = "terminal">
cd ~/cs241
svn up
cd lab_gdb</pre>
        </div>
      </div>
    </div>

    <!-- Slides -->
    <div class = "pad">
      <div id = "slides" class="mdl-card mdl-shadow--2dp large-card">
        <div class="mdl-card__title" style = "background-color: #03a9f4">
          <h2 class="mdl-card__title-text" style = "color: white">GDB Slides</h2>
        </div>
        <div class = "content">
          <h6>Your lab instructor will go over gdb (GNU Debugger)<a href = "http://www.cs.umd.edu/~srhuang/teaching/cmsc212/gdb-tutorial-handout.pdf">slides</a>.</h6>
          <p>
            Please be respectful to your peers.
            When in doubt please refer to the following <a href = "http://www.unknownroad.com/rtfm/gdbtut/gdbtoc.html">reference manual</a>.
          </p>
        </div>
      </div>
    </div>

    <!-- Demo -->
    <div class = "pad">
      <div id = "demo" class="mdl-card mdl-shadow--2dp large-card">
        <div class="mdl-card__title" style = "background-color: #03a9f4">
          <h2 class="mdl-card__title-text" style = "color: white">Demo</h2>
        </div>
        <div class = "content">
          <h6>Demo.</h6>
          <p>
            Compile the given code with the following command
            <pre class = "terminal">clang -Wall -Wextra -Werror -Wno-sign-compare -g lab_gdb_bad.c -o lab_bad</pre>
            Don't forget to include the flag -g when compiling you code in the future if you wanna use gdb, otherwise it won't work.
            Now, try to excute with
            <pre class = "terminal">./lab_bad</pre>
            It seg-faults.
            Now let's try using gdb to find out where the program crashes.
            Run the following commands 1 line at a time.
            <pre class = "terminal">
gdb
file lab_bad
run
backtrace
</pre>
            Now let's set some break points before the line the program crashes.
            Run the following commands 1 line at a time.
            <pre class = "terminal">
lab_gdb_bad.c:77
lab_gdb_bad.c:79
lab_gdb_bad.c:86
lab_gdb_bad.c:89
run
</pre>
            and select y to restart from begining.
            As we stop at the first break point.
            Let's use <pre class = "terminal">print fptr</pre>
            to examine the value of fptr.
            <pre class = "terminal">fptr</pre>
            It is a null pointer.
            Can you see why?
            Now, after the simple example, let's uncomment line number 96, and run the program again.
            It says invalid pointer and system aborts.

          </p>
          <p>
            Important hints: Examine the place the pointers get assigned and if you really can't figure out the problem, read the text file we provide carefully, see if you can benefit from that.
          </p>
        </div>
      </div>
    </div>

    <!-- exercise? -->
    <div class = "pad">
      <div id = "exercise" class="mdl-card mdl-shadow--2dp large-card">
        <div class="mdl-card__title" style = "background-color: #03a9f4">
          <h2 class="mdl-card__title-text" style = "color: white">Getting Your Hands Dirty</h2>
        </div>
        <div class = "content">
          <h6>Now it is your turn.</h6>
          <p>
            Now, examine the lines the program crashes and find out what happened using what you have learned so far in GDB.
          </p>
          <p>
            You must fill out work.txt.
            Note that you must fill out this AND debug the code AND attend lab to get full points.
            If you fail to do any than you will recieve a 0.
            Fill out the text file with your GDB print out (copy and paste from the terminal).
            You may not use printf or other debugging methods.
          </p>
        </div>
      </div>
    </div>

  </div>
</div>
